http://os.mbed.com/users/AzureIoTClient/code/azure_c_shared_utility/#6bb8b9a66642c195d0f8a163e6c7d44a1c855beb